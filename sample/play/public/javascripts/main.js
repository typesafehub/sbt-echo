var playLogo64 = "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";
var form = new FormData()
var blob = new Blob([playLogo64], { type: "image/png"})
	form.append("picture", blob)

var terms = [
  "star",
  "mongo",
  "head",
  "play",
  "error",
  "kind"
]

var timer, speed = 10000,
	requests = [
		{
			url: "/helloGet",
			method: "GET"
		},
		{
			search: true,
			url: "/helloSearch",
			method: "GET"
		},
		{
			url: "/helloPost",
			method: "POST"
		},
		{
			url: "/helloPut",
			method: "PUT"
		},
		{
			url: "/helloDelete",
			method: "DELETE"
		},
		{
			url: "/notFound",
			method: "GET"
		},
		{
			url: "/badRequest",
			method: "GET"
		},
		{
			url: "/helloFile",
			method: "POST",
			contentType: false,
			processData: false,
			data: form
		}
	],
	debug = $("#debug"),
	def = function(url){
		return {
			success: function(e){
				$("<div/>").html(e).prependTo(debug)
			},
			error: function(e){
				$("<div class='error'/>").html("Error with '" + url + "' ... " + e.responseText).prependTo(debug)
			},
			complete: function(){
				var delay = Math.floor((Math.random()+1)*speed)
				clearTimeout(timer)
				timer = setTimeout(doReq, delay)
			}
	  }
	}

function doReq(){
	var r = requests[ Math.floor(Math.random() * requests.length) ]
	var c = $.extend({},r)
	if (c.search) {
		c.url += "?term=" + terms[Math.floor(Math.random() * terms.length)]
	}
	var params = $.extend(c,def(c.url))
	$.ajax(params)
}

$("input").change(function() {
	speed = parseFloat($("input[name=speed]:checked").val())
	clearTimeout(timer)
	speed && doReq()
}).trigger("change")

